#-----------------------------------------------------------
# Vivado v2015.2 (64-bit)
# SW Build 1266856 on Fri Jun 26 16:35:25 MDT 2015
# IP Build 1264090 on Wed Jun 24 14:22:01 MDT 2015
# Start of session at: Thu May 26 22:36:12 2016
# Process ID: 31762
# Log file: /mnt/monster/jenkins-jobs/build_Ubuntu_package_with_Vivado_2014.2/workspace/pico_build/pico-stage-5.5.0.0/ubuntu_pkg/src/samples/StreamLoopback128/firmware/M510_KU060_StreamLoopback128/vivado.log
# Journal file: /mnt/monster/jenkins-jobs/build_Ubuntu_package_with_Vivado_2014.2/workspace/pico_build/pico-stage-5.5.0.0/ubuntu_pkg/src/samples/StreamLoopback128/firmware/M510_KU060_StreamLoopback128/vivado.jou
#-----------------------------------------------------------
source /home/ci/.jenkins/jobs/build_Ubuntu_package_with_Vivado_2014.2/workspace/pico_build/pico-stage-5.5.0.0/ubuntu_pkg/src/bin/build_xilinx.tcl
# proc regenerate_ip ip_file {
#     puts "Regenerate IP $ip_file"
# 
#     set dcp_file [file rootname $ip_file].dcp
#     set  ip_name [file tail [file rootname $ip_file]]
# 
#     create_fileset -blockset $ip_name
#     move_files -fileset $ip_name $ip_file
#     generate_target all $ip_file -force
# 
#     create_project -in_memory -part $::env(FPGA_PART)
#     set_property target_language Verilog [current_project]
#     set_property default_lib xil_defaultlib [current_project]
# 
#     read_ip $ip_file
#     set_property is_locked true [get_files $ip_file]
# 
#     set dont_touch "dont_touch.xdc"
#     set file_id [open $dont_touch "w"]
#     puts $file_id "set_property DONT_TOUCH TRUE \[get_cells U0\]"
#     close $file_id
#     read_xdc $dont_touch
#     set_property used_in_implementation false [get_files $dont_touch]
#     
#     synth_design -top $ip_name -part $::env(FPGA_PART) -mode out_of_context
# 
#     rename_ref -prefix_all $ip_name
#     write_checkpoint -noxdef $dcp_file
#     report_utilization -file ${ip_name}_utilization_synth.rpt -pb ${ip_name}_utilization_synth.pb
#     close_project
#     add_files $dcp_file
# }
# set option 0
# if { $argc < 1 } {
#     set option 0
# } elseif {[lindex $argv 0] == "build_all"} {
#     set option 0
# } elseif {[lindex $argv 0] == "project_only"} {
#     set option 1
# }
# set verilog_files [regexp -all -inline {\S+} $::env(VERILOG_FILES)]
# set system_verilog_files [regexp -all -inline {\S+} $::env(SYSTEM_VERILOG_FILES)]
# set verilog_header_files [regexp -all -inline {\S+} $::env(VERILOG_HEADER_FILES)]
# set xdc_files [regexp -all -inline {\S+} $::env(DESIGN_CONSTRAINT_FILES)]
# set xco_files [regexp -all -inline {\S+} $::env(IP_CORE_FILES)]
# set inc_paths [regexp -all -inline {\S+} $::env(SEARCH_PATH)]
# puts "Setting up Vivado project."
Setting up Vivado project.
# cd $::env(BUILD_DIR)
# create_project -force -part $::env(FPGA_PART) $::env(PROJECT_NAME) .
# set_property target_language Verilog [current_project]
# set_param project.compositeFile.enableAutoGeneration 0
# if {[llength $verilog_header_files] > 0} {
#     add_files -fileset sources_1 $verilog_header_files
#     set_property file_type "Verilog Header" [get_files $verilog_header_files]
# }
# if {[llength $system_verilog_files] > 0} {
#     add_files -fileset sources_1 $system_verilog_files
#     set_property file_type "SystemVerilog" [get_files $system_verilog_files]
# }
# if {[llength $verilog_files] > 0} {
#     add_files -fileset sources_1 $verilog_files
#     set_property file_type "Verilog" [get_files $verilog_files]
# }
# if {[llength $xco_files] > 0} {
#     #add_files -fileset sources_1 $xco_files
#     import_ip $xco_files
#     convert_ip [get_ips]
#     #set_property file_type "IP" [get_files $xco_files]
# }
INFO: [IP_Flow 19-234] Refreshing IP repositories
INFO: [IP_Flow 19-1704] No user IP repositories specified
INFO: [IP_Flow 19-2313] Loaded Vivado IP repository '/opt/Xilinx/Vivado/2015.2/data/ip'.
WARNING: [IP_Flow 19-2162] IP 'coregen_fifo_32x128' is locked:
* IP definition 'FIFO Generator (8.1)' for IP 'coregen_fifo_32x128' has a newer major version in the IP Catalog.
* Current project part 'xcku060-ffva1156-2-e' and the part 'xc6vlx240tff1156-2' used to customize the IP 'coregen_fifo_32x128' do not match.
Please select 'Report IP Status' from the 'Tools/Report' menu or run Tcl command 'report_ip_status' for more information.
WARNING: [Vivado 12-4325] The XCO file '/mnt/monster/jenkins-jobs/build_Ubuntu_package_with_Vivado_2014.2/workspace/pico_build/pico-stage-5.5.0.0/ubuntu_pkg/src/samples/StreamLoopback128/firmware/M510_KU060_StreamLoopback128/M510_KU060_StreamLoopback128.srcs/sources_1/ip/coregen_fifo_32x128/coregen_fifo_32x128.xco' must be upgraded before it can be converted to a core container.
# if {[llength $xdc_files] > 0} {
#     add_files -fileset constrs_1 $xdc_files
# }
# set_property "top" $::env(TOP_ENTITY) [get_filesets sources_1]
# upgrade_ip [get_ips *]
WARNING: [Coretcl 2-1044] No upgrade is available for 'pcie3_ultrascale_0'
Upgrading 'coregen_fifo_32x128'
WARNING: [IP_Flow 19-3501] Upgraded coregen_fifo_32x128 from FIFO Generator 8.1 to FIFO Generator 12.0, with warnings. Please review the upgrade log '/mnt/monster/jenkins-jobs/build_Ubuntu_package_with_Vivado_2014.2/workspace/pico_build/pico-stage-5.5.0.0/ubuntu_pkg/src/samples/StreamLoopback128/firmware/M510_KU060_StreamLoopback128/M510_KU060_StreamLoopback128.srcs/sources_1/ip/coregen_fifo_32x128/coregen_fifo_32x128.upgrade_log'.
INFO: [IP_Flow 19-3471] Wrote upgrade log to '/mnt/monster/jenkins-jobs/build_Ubuntu_package_with_Vivado_2014.2/workspace/pico_build/pico-stage-5.5.0.0/ubuntu_pkg/src/samples/StreamLoopback128/firmware/M510_KU060_StreamLoopback128/M510_KU060_StreamLoopback128.srcs/sources_1/ip/coregen_fifo_32x128/coregen_fifo_32x128.upgrade_log'.
CRITICAL WARNING: [Coretcl 2-1279] The upgrade of IP instance 'coregen_fifo_32x128' has identified issues that may require user intervention. Please review the upgrade log '/mnt/monster/jenkins-jobs/build_Ubuntu_package_with_Vivado_2014.2/workspace/pico_build/pico-stage-5.5.0.0/ubuntu_pkg/src/samples/StreamLoopback128/firmware/M510_KU060_StreamLoopback128/M510_KU060_StreamLoopback128.srcs/sources_1/ip/coregen_fifo_32x128/coregen_fifo_32x128.upgrade_log', and verify that the upgraded IP is correctly configured.
# if {$option == 1} {
#     close_project
#     exit 0
# }
INFO: [Common 17-206] Exiting Vivado at Thu May 26 22:36:31 2016...
